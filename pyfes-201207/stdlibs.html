

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>標準モジュール &mdash; Python Developers Festa 2012.07  documentation</title>
    
    <link rel="stylesheet" href="_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/print.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <script type="text/javascript" src="_static/theme_extras.js"></script>
    <link rel="top" title="Python Developers Festa 2012.07  documentation" href="index.html" />
    <link rel="next" title="Appendix: パッケージ管理ツール" href="appendix1.html" />
    <link rel="prev" title="関数" href="advanced.html" /> 
  </head>
  <body>
      <div class="header"><h1 class="heading"><a href="index.html">
          <span>Python Developers Festa 2012.07  documentation</span></a></h1>
        <h2 class="heading"><span>標準モジュール</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        «&#160;&#160;<a href="advanced.html">関数</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">コンテンツ</a>
        &#160;&#160;::&#160;&#160;
        <a href="appendix1.html">Appendix: パッケージ管理ツール</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="id1">
<h1>標準モジュール<a class="headerlink" href="#id1" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>Pythonには標準で多数のモジュールが同梱されています。あまりに数が多いため全て把握するのは大変ですが、有用なモジュールを押さえておけば開発効率は飛躍的にアップします。</p>
<div class="section" id="os">
<h2>os<a class="headerlink" href="#os" title="このヘッドラインへのパーマリンク">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">document:</th><td class="field-body"><a class="reference external" href="http://www.python.jp/doc/release/library/os.html">http://www.python.jp/doc/release/library/os.html</a></td>
</tr>
</tbody>
</table>
<p>ファイルとディレクトリを扱うモジュールです。色々な機能がありますが、特に使用頻度の高い関数を紹介します。</p>
<ul class="simple">
<li>os.path - ファイルパスをいじくる</li>
</ul>
<p>joinでファイルパスを繋げます。
+演算子やフォーマット文字列を使った結合と違い、不正なパスが生成されません。</p>
<div class="highlight-pycon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s">&#39;/home/bucho&#39;</span><span class="p">,</span> <span class="s">&#39;show.jpg&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">path</span>
<span class="go">/home/bucho/show.jpg</span>


<span class="gp">&gt;&gt;&gt; </span><span class="nb">dir</span> <span class="o">=</span> <span class="s">&#39;/home/bucho&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">name</span> <span class="o">=</span> <span class="s">&#39;show.jpg&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path</span> <span class="o">=</span> <span class="nb">dir</span> <span class="o">+</span> <span class="n">name</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">path</span>
<span class="go">/home/buchoshow.jpg  # 意図しないパスになってしまう</span>
</pre></div>
</div>
<p>existsでファイル/ディレクトリの存在チェックを行えます。</p>
<div class="highlight-pycon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>dirnameでディレクトリパスが得られます</p>
<div class="highlight-pycon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
<span class="go">&#39;/home/bucho&#39;</span>
</pre></div>
</div>
<p>splitextでパスを拡張子とそれ以外に分割できます</p>
<div class="highlight-pycon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">name</span><span class="p">,</span> <span class="n">ext</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">name</span>
<span class="go">/home/bucho/show</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">ext</span>
<span class="go">.jpg</span>
</pre></div>
</div>
<ul class="simple">
<li>os.walk - ファイルとディレクトリの一覧を得る</li>
</ul>
<p>検索対象パスを指定してos.walkを呼び出すと、検索パス, パスに含まれるフォルダ名のリスト, パスに含まれるファイル名のリストの３要素タプルを生成するジェネレータが返ります。
最初に渡した検索パス以下のすべてのファイル/フォルダが再帰的に検索されます。</p>
<div class="highlight-pycon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">path</span><span class="p">,</span> <span class="n">folders</span><span class="p">,</span> <span class="n">files</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="s">&#39;/home/bucho&#39;</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">for</span> <span class="nb">file</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
<span class="gp">... </span>        <span class="k">print</span> <span class="n">path</span> <span class="o">+</span> <span class="nb">file</span>
<span class="gp">...</span>
<span class="gp">...</span>
<span class="go">/home/bucho/daisuki.3gp</span>
<span class="go">/home/bucho/hagesii.wmv</span>
<span class="go">/home/bucho/tof.jpg</span>
<span class="go">/home/bucho/wozozo.bmp</span>
<span class="go">/home/bucho/.ero/show.jpg</span>
<span class="go">/home/bucho/.ero/hide/show.jpg</span>
</pre></div>
</div>
</div>
<div class="section" id="re">
<h2>re<a class="headerlink" href="#re" title="このヘッドラインへのパーマリンク">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">document:</th><td class="field-body"><a class="reference external" href="http://www.python.jp/doc/release/library/re.html">http://www.python.jp/doc/release/library/re.html</a></td>
</tr>
</tbody>
</table>
<p>正規表現を扱うモジュールです。</p>
<p>正規表現内ではバックスラッシュが頻出するため、raw文字列（r&#8217;&#8216;）を使って記述するのが良いでしょう。</p>
<p>正規表現にマッチするとMatchObjectが返ります。</p>
<div class="highlight-pycon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">re</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">match_obj</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">r&#39;(\d+)$&#39;</span><span class="p">,</span> <span class="s">&#39;aita255&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">match_obj</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">255</span>
</pre></div>
</div>
<p>何度もマッチングを繰り返す場合は、コンパイル済み正規表現オブジェクトを使うことで負荷を軽減することも出来ます。</p>
<div class="highlight-pycon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">compiled</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s">r&#39;(\d+)$&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">compiled</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="o">...</span>
</pre></div>
</div>
</div>
<div class="section" id="pdb">
<h2>pdb<a class="headerlink" href="#pdb" title="このヘッドラインへのパーマリンク">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">document:</th><td class="field-body"><a class="reference external" href="http://www.python.jp/doc/release/library/pdb.html">http://www.python.jp/doc/release/library/pdb.html</a></td>
</tr>
</tbody>
</table>
<p>pythonのデバッガです。</p>
<p>set_traceを実行すると、コードの実行を途中で停止し、デバッグ用のプロンプトが表示されます。実際に動作している時のコードの状態を確認できるため、非常に有用です。</p>
<div class="highlight-pycon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pdb</span><span class="p">;</span><span class="n">pdb</span><span class="o">.</span><span class="n">set_trace</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">xxx</span> <span class="o">==</span> <span class="n">yyy</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">zzz</span> <span class="o">=</span> <span class="bp">True</span>
<span class="gp">...</span>
</pre></div>
</div>
<p>上記のコード例の1行目が実行されると、実行が一旦停止されてpdbのプロンプトが表示されます。</p>
<p>プロンプト上では通常のインタプリタと同じようにコードを実行できるほか、停止させている実行を1行分進める/実行中のコードを表示する/強制終了するなどの操作が行えます。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">n:</th><td class="field-body">実行を1行分だけ進めます。</td>
</tr>
<tr class="field-even field"><th class="field-name">c:</th><td class="field-body">pdbを終了し、スクリプトの実行を再開します。</td>
</tr>
<tr class="field-odd field"><th class="field-name">q:</th><td class="field-body">スクリプトの実行を強制的に終了します。</td>
</tr>
<tr class="field-even field"><th class="field-name">s:</th><td class="field-body">実行しようとしている関数の内部に進みます。</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="datetime">
<h2>datetime<a class="headerlink" href="#datetime" title="このヘッドラインへのパーマリンク">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">document:</th><td class="field-body"><a class="reference external" href="http://www.python.jp/doc/release/library/datetime.html">http://www.python.jp/doc/release/library/datetime.html</a></td>
</tr>
</tbody>
</table>
<p>日付と時刻のデータを扱うモジュールです。</p>
<div class="highlight-pycon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
<span class="go">datetime.datetime(2011, 10, 15, 9, 41, 00, 000000)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">gantan</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2012</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gantan</span><span class="o">.</span><span class="n">year</span>
<span class="go">2012</span>
</pre></div>
</div>
<p>日付のみを扱うdateもあります。</p>
<div class="highlight-pycon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">date</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>
<span class="go">datetime.date(2011, 10, 15)</span>
</pre></div>
</div>
<p>timedeltaを使うと、日付/時間の加減算ができます。</p>
<div class="highlight-pycon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timedelta</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dt</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dt</span>
<span class="go">datetime.datetime(2011, 10, 15, 9, 41, 00, 000000)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dt</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="go">datetime.datetime(2011, 10, 18, 9, 41, 00, 000000)</span>
</pre></div>
</div>
</div>
<div class="section" id="random">
<h2>random<a class="headerlink" href="#random" title="このヘッドラインへのパーマリンク">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">document:</th><td class="field-body"><a class="reference external" href="http://www.python.jp/doc/release/library/random.html">http://www.python.jp/doc/release/library/random.html</a></td>
</tr>
</tbody>
</table>
<p>乱数を生成します。</p>
<p>random関数は0〜1の範囲の小数をランダムに返します。</p>
<div class="highlight-pycon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">random</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span>
<span class="go">0.6130030617573102</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span>
<span class="go">0.038878091500788026</span>
</pre></div>
</div>
<p>randint関数は第一引数**以上**、第二引数**以下**の整数値をランダムに返します。</p>
<div class="highlight-pycon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="go">6</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="go">8</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="go">10</span>
</pre></div>
</div>
</div>
<div class="section" id="urllib-urllib2">
<h2>urllib, urllib2<a class="headerlink" href="#urllib-urllib2" title="このヘッドラインへのパーマリンク">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">document:</th><td class="field-body"><a class="reference external" href="http://www.python.jp/doc/release/library/urllib2.html">http://www.python.jp/doc/release/library/urllib2.html</a> , <a class="reference external" href="http://www.python.jp/doc/release/library/urllib.html">http://www.python.jp/doc/release/library/urllib.html</a></td>
</tr>
</tbody>
</table>
<p>URLを開くモジュールです。2.x系ではurllibとurllib2が混在していますが、urllib2の方が色々と優れているため、こちらを利用するのがよいでしょう。</p>
<p>urllib2.urlopenに対象URLを渡して呼び出すと、コンテンツが格納されたfile-like objectが返ります。</p>
<div class="highlight-pycon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">urllib2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">urllib2</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="s">&#39;http://www.beproud.jp/&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">result</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>  <span class="c"># file-like objectなのでreadで読み出します。</span>
<span class="go">&lt;!DOCTYPE html&gt;</span>
<span class="go">&lt;html&gt;</span>
<span class="go">    &lt;head&gt;</span>
<span class="go">        &lt;title&gt;HOME | 株式会社ビープラウド&lt;/title&gt;</span>
<span class="go">        &lt;meta http-equiv=&quot;Content-Language&quot; content=&quot;ja&quot; /&gt;</span>
<span class="go">        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;</span>
<span class="go">        &lt;meta name=&quot;description&quot; content=&quot;株式会社ビープラウド Be PROUD [IT High Technology &amp;amp; Human Centric Company]&quot; /&gt;</span>
<span class="go">        ...</span>
</pre></div>
</div>
<p>urlopenのdata引数にapplication/x-www-form-urlencoded形式の文字列を渡すと、POSTリクエストとなります。</p>
<p>app...endoced形式の文字列は、urllib.urlencode関数で簡単に生成することができます。</p>
<div class="admonition tip">
<p class="first admonition-title">ちなみに</p>
<p class="last">urlencode関数は**urllib**モジュールの関数です。</p>
</div>
<div class="highlight-pycon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">urllib</span><span class="o">,</span> <span class="nn">urllib2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">post_data</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">urlencode</span><span class="p">({</span>
<span class="go">        &#39;name&#39;: &#39;spam&#39;,</span>
<span class="go">    })</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">urllib2</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="s">&#39;http://aita.jp/tabetai/&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">post_data</span><span class="p">)</span>
</pre></div>
</div>
<p>エラーはHTTPError例外としてraiseされます</p>
<div class="highlight-pycon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">urllib2</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="s">&#39;http://www.beproud.jp/bucho.ero&#39;</span><span class="p">)</span>
<span class="go">HTTPError: HTTP Error 404: Not Found</span>
</pre></div>
</div>
<p>openerオブジェクトを作成し、ハンドラの設定を行うことで様々な形式でのリクエストが可能です。</p>
<div class="highlight-pycon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="c"># ベーシック認証のハンドラを追加します</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">basic_auth</span> <span class="o">=</span> <span class="n">urllib2</span><span class="o">.</span><span class="n">HTTPBasicAuthHandler</span><span class="p">(</span><span class="s">&quot;Bucho&#39;s secret folder&quot;</span><span class="p">,</span> <span class="s">&quot;http://www.beproud.jp/bucho.ero/&quot;</span><span class="p">,</span> <span class="s">&#39;bucho&#39;</span><span class="p">,</span> <span class="s">&#39;show&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">opener</span> <span class="o">=</span> <span class="n">urllib2</span><span class="o">.</span><span class="n">build_opener</span><span class="p">(</span><span class="n">basic_auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">opener</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s">&#39;http://www.beproud.jp/bucho.ero/&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="json">
<h2>json<a class="headerlink" href="#json" title="このヘッドラインへのパーマリンク">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">document:</th><td class="field-body"><a class="reference external" href="http://www.python.jp/doc/release/library/json.html">http://www.python.jp/doc/release/library/json.html</a></td>
</tr>
</tbody>
</table>
<p>jsonを扱うモジュールです。urllib2との組み合わせで使われることが多いかと思います。</p>
<p>json.loadsにjson文字列を渡すと、Pythonのオブジェクトにマッピングされます。</p>
<div class="highlight-pycon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">json</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aita</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="s">&#39;&#39;&#39;{</span>
<span class="go">        &quot;result&quot;: {</span>
<span class="go">            &quot;organization&quot;: &quot;BeProud inc&quot;,</span>
<span class="go">            &quot;age&quot;: 24,</span>
<span class="go">            &quot;name&quot;: &quot;aita&quot;,</span>
<span class="go">            &quot;like&quot;: [</span>
<span class="go">                &quot;onigiri&quot;,</span>
<span class="go">                &quot;hamburger&quot;,</span>
<span class="go">                &quot;gyudon&quot;,</span>
<span class="go">                &quot;oomori&quot;</span>
<span class="go">            ]</span>
<span class="go">        }</span>
<span class="go">    }&#39;&#39;&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aita</span><span class="p">[</span><span class="s">&#39;result&#39;</span><span class="p">][</span><span class="s">&#39;like&#39;</span><span class="p">]</span>
<span class="go">[u&#39;onigiri&#39;, u&#39;hamburger&#39;, u&#39;gyudon&#39;, u&#39;oomori&#39;]</span>
</pre></div>
</div>
<p>json.dumpsにリストや辞書オブジェクトを渡すとjson文字列を返してくれます。</p>
<div class="highlight-pycon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">({</span>
<span class="go">        &#39;result&#39;: {</span>
<span class="go">            &#39;name&#39;: &#39;aita&#39;,</span>
<span class="go">            &#39;organization&#39;: &#39;BeProud inc&#39;,</span>
<span class="go">            &#39;age&#39;: 24,</span>
<span class="go">            &#39;like&#39;: [&#39;onigiri&#39;, &#39;hamburger&#39;, &#39;gyudon&#39;, &#39;oomori&#39;]</span>
<span class="go">        }</span>
<span class="go">    })</span>
<span class="go">&#39;{&quot;result&quot;: {&quot;organization&quot;: &quot;BeProud inc&quot;, &quot;age&quot;: 24, &quot;name&quot;: &quot;aita&quot;, &quot;like&quot;: [&quot;onigiri&quot;, &quot;hamburger&quot;, &quot;gyudon&quot;, &quot;oomori&quot;]}}&#39;</span>
</pre></div>
</div>
</div>
</div>


      </div>
      <div class="bottomnav">
      
        <p>
        «&#160;&#160;<a href="advanced.html">関数</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">コンテンツ</a>
        &#160;&#160;::&#160;&#160;
        <a href="appendix1.html">Appendix: パッケージ管理ツール</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer">
        &copy; Copyright 2012, Shinya Okano.
      このドキュメントは <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3 で生成しました。
    </div>
  </body>
</html>