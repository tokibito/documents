

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>制御構造 &mdash; Python Developers Festa 2012.07  documentation</title>
    
    <link rel="stylesheet" href="_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/print.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <script type="text/javascript" src="_static/theme_extras.js"></script>
    <link rel="top" title="Python Developers Festa 2012.07  documentation" href="index.html" />
    <link rel="next" title="関数" href="advanced.html" />
    <link rel="prev" title="基本編" href="basic.html" /> 
  </head>
  <body>
      <div class="header"><h1 class="heading"><a href="index.html">
          <span>Python Developers Festa 2012.07  documentation</span></a></h1>
        <h2 class="heading"><span>制御構造</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        «&#160;&#160;<a href="basic.html">基本編</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">コンテンツ</a>
        &#160;&#160;::&#160;&#160;
        <a href="advanced.html">関数</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="id1">
<h1>制御構造<a class="headerlink" href="#id1" title="このヘッドラインへのパーマリンク">¶</a></h1>
<div class="section" id="id2">
<h2>インデント<a class="headerlink" href="#id2" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Pythonではインデントに文法としての意味があります。多くの言語における{}にあたる構造を、インデントが揃った部分として表現します。</p>
<p>一般的にはスペース4つでのインデントがよく使われます。</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">if</span> <span class="n">x</span><span class="p">:</span>
    <span class="k">print</span> <span class="n">x</span>
    <span class="k">print</span> <span class="s">&quot;fe&quot;</span>

<span class="k">if</span> <span class="n">x</span><span class="p">:</span>
<span class="k">print</span> <span class="n">x</span> <span class="c"># 文法エラー</span>
</pre></div>
</div>
</div>
<div class="section" id="if">
<h2>if<a class="headerlink" href="#if" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="highlight-pycon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="mi">20</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">20</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">print</span> <span class="s">&#39;x equals 20!&#39;</span>
<span class="gp">... </span><span class="k">elif</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">20</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">print</span> <span class="s">&#39;x larger than 20!&#39;</span>
<span class="gp">... </span><span class="k">else</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">print</span> <span class="s">&#39;x smaller than 20!&#39;</span>
</pre></div>
</div>
<p>ifの条件式部分には、カッコはあってもなくても構いません。不要な場合は書かないのがPythonらしい書き方です:)</p>
</div>
<div class="section" id="for">
<h2>for<a class="headerlink" href="#for" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Pythonの <tt class="docutils literal"><span class="pre">for</span></tt> 文はリストやタプルの要素を順番に反復処理します。</p>
<div class="highlight-pycon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">print</span> <span class="s">&#39;x = </span><span class="si">%d</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">x</span>
<span class="gp">...</span>
<span class="go">x = 0</span>
<span class="go">x = 1</span>
<span class="go">x = 2</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">for</span></tt> 文に <tt class="docutils literal"><span class="pre">else</span></tt> 節を付けると、反復が終了した後に実行される処理を書くことができます。</p>
<p>ただしbreakなどでループを途中で抜けた場合、else節は実行されません。</p>
<div class="highlight-pycon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">print</span> <span class="s">&#39;x = </span><span class="si">%d</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">x</span>
<span class="gp">... </span><span class="k">else</span><span class="p">:</span>
<span class="gp">... </span>     <span class="k">print</span> <span class="s">&#39;done&#39;</span>
<span class="gp">...</span>
<span class="go">x = 0</span>
<span class="go">x = 1</span>
<span class="go">x = 2</span>
<span class="go">done</span>
</pre></div>
</div>
</div>
<div class="section" id="while">
<h2>while<a class="headerlink" href="#while" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="highlight-pycon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">while</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">print</span> <span class="n">x</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">x</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="go">0 1 2 3 4 5 6 7 8 9</span>
</pre></div>
</div>
<p>whileにもelse節が記述できます。forとは違って、whileのブロックが一度も実行されなかった場合にのみelse節のコードが実行されます。</p>
<div class="highlight-pycon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">while</span> <span class="bp">False</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">print</span> <span class="mi">1</span>
<span class="gp">... </span><span class="k">else</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">print</span> <span class="mi">2</span>
<span class="go">2</span>
</pre></div>
</div>
</div>
<div class="section" id="with">
<h2>with<a class="headerlink" href="#with" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>with文は処理の終了後に必ず実行したい処理を纏めて定義することのできる構文です。</p>
<p>ファイルオブジェクトなど、いくつかの組み込みオブジェクトは標準でwithに対応しています。</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">&#39;xxx.txt&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="k">print</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</pre></div>
</div>
<p>本来openしたファイルオブジェクトはcloseメソッドを呼び出して閉じないといけませんが、with文を使えばwithブロックを抜けた時点で自動的にcloseが呼び出されます。</p>
<p>独自にwithでの処理を定義することもできます。標準パッケージのcontextlibを使うと、簡単に記述することができます。</p>
</div>
<div class="section" id="try">
<h2>try<a class="headerlink" href="#try" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p><tt class="docutils literal"><span class="pre">try</span></tt> 節の中でエラーが発生した場合の処理を、 <tt class="docutils literal"><span class="pre">except</span></tt> 節で記述することができます。</p>
<div class="highlight-pycon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span>
<span class="gp">... </span>    <span class="mi">1</span> <span class="o">/</span> <span class="mi">0</span>  <span class="c"># ゼロ除算エラーが発生するコード</span>
<span class="gp">... </span><span class="k">except</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">print</span> <span class="s">&quot;zero devide error&quot;</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">except</span></tt> に処理するエラー型を指定することで、特定のエラー専用の例外処理を書くこともできます。
何も指定しない場合は、あらゆるエラーが処理されます。</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">f</span><span class="p">()</span>    <span class="c"># 何かの計算をする関数</span>
<span class="gp">... </span><span class="k">except</span> <span class="ne">NameError</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">print</span> <span class="s">&quot;name error&quot;</span>
<span class="gp">... </span><span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">print</span> <span class="s">&quot;value error&quot;</span>
<span class="gp">... </span><span class="k">except</span> <span class="ne">ZeroDivisionError</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">print</span> <span class="s">&quot;zero devide error&quot;</span>
<span class="gp">... </span><span class="k">except</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">print</span> <span class="s">&quot;other error&quot;</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">finally</span></tt> 節を記述すると、<tt class="docutils literal"><span class="pre">try</span></tt> 節の中でエラーが発生してもしなくても、必ず実行される処理を書くことができます。</p>
<div class="highlight-pycon"><div class="highlight"><pre><span class="go"> &gt;&gt;&gt; myfile = open(&#39;torumemo.txt&#39;)</span>
<span class="go"> &gt;&gt;&gt; try:</span>
<span class="gp">... </span>    <span class="o">...</span>
<span class="gp">... </span><span class="k">finally</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">myfile</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>


      </div>
      <div class="bottomnav">
      
        <p>
        «&#160;&#160;<a href="basic.html">基本編</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">コンテンツ</a>
        &#160;&#160;::&#160;&#160;
        <a href="advanced.html">関数</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer">
        &copy; Copyright 2012, Shinya Okano.
      このドキュメントは <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3 で生成しました。
    </div>
  </body>
</html>